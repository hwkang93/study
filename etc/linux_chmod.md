# chmod

- Change + Mode 의 약자
- 파일 및 디렉토리 사용 권한을 변경할 수 있게 만든 명령어
- 사용 권한은 읽기(r), 쓰기(w), 실행(x) 권한으로 구분되어 있음
- 파일을 소유한 사용자, 사용자가 속한 그룹에 소속된 사용자, 그 외 사용자에 대해 권한 부여

## chmod 명령어 옵션

```
chmod [OPTION] [MODE] [FILE]
  OPTION
    -v        : 모든 파일에 대해 모드가 적용되는 진단(diagnostic) 메시지 출력.
    -f        : 에러 메시지 출력하지 않음.
    -c        : 기존 파일 모드가 변경되는 경우만 진단(diagnostic) 메시지 출력.
    -R        : 지정한 모드를 파일과 디렉토리에 대해 재귀적으로(recursively) 적용.
  MODE
    파일에 적용할 모드(mode) 문자열 조합.
      u,g,o,a : 소유자(u), 그룹(g), 그 외 사용자(o), 모든 사용자(a) 지정.
      +,-,=   : 현재 모드에 권한 추가(+), 현재 모드에서 권한 제거(-), 현재 모드로 권한 지정(=)
      r,w,x   : 읽기 권한(r), 쓰기 권한(w), 실행 권한(x)
      X       : "디렉토리" 또는 "실행 권한(x)이 있는 파일"에 실행 권한(x) 적용.
      s       : 실행 시 사용자 또는 그룹 ID 지정(s). "setuid", "setgid".
      t       : 공유모드에서의 제한된 삭제 플래그를 나타내는 sticky(t) bit.
      0~7     : 8진수(octet) 형식 모드 설정 값.
```

## 권한을 지정하는 방법

- 8진수 값을 사용해 권한을 부여할 수 있음

```
-rwxrwxrwx
```

- 첫 번째 ```rwx``` 는 파일 소유 사용자 권한
- 두 번째 ```rwx``` 는 파일 소유 그룹 권한
- 세 번째 ```rwx``` 는 그 외 사용자 권한


```
읽기(r) -> 4
쓰기(w) -> 2
실행(x) -> 1
없음(-) -> 0
```

위의 숫자들(8진수)을 더해서 권한을 부여한다.

예를 들어
파일의 소유자에게는 읽기 쓰기 실행, 소유자가 속한 그룹에게는 읽기, 실행, 그 외 사용자에게는 아무 권한을 부여하고 싶지 않다고 해보자.

권한을 표현하자면, ```-rwxr-x---``` 로 표현할 수 있으며

```
파일 소유자          : rwx -> 7 (4 + 2 + 1)
소유자가 속한 그룹    : r-x -> 5 (4 + 0 + 1)
그 외 사용자         : --- -> 0 (0 + 0 + 0)
```

즉, ```chmod 750 [FILE]``` 과 같은 명령어로 권한을 부여할 수 있다.


## Reference

[개발자를 위한 레시피 - 1.리눅스 파일 사용 권한](https://recipes4dev.tistory.com/175)