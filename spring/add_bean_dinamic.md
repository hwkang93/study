# Spring Bean 동적으로 생성하기

스프링 프레임워크를 이용해 웹 어플리케이션을 개발하고 실행하면, 스프링은 컴포넌트들을 스캔하고 
컴포넌트 내에 정의된 Bean 객체들을 싱글톤 객체로 만든 후, 메모리에 올려놓는다.
그리고 클라이언트에서 요청이 있을 때마다 객체들을 새로 만드는 게 아닌, 이미 싱글톤 객체로 만들어진 Bean 객체들을 호출해서 사용하게 된다.

### 스프링에서 데이터베이스와 연결하는 방법

WAS 서버와 데이터베이스 서버 간의 통신 중에서 가장 자원을 많이 소모하는 곳이 WAS 서버와 데이터베이스 서버를 연결하는 부분이다.
그래서 Spring 은 서버간 연결 시 발생하는 자원 소모를 최소화하기 위해 어플리케이션 실행 시에 데이터베이스 연결 정보를 Bean 객체로 만들고, 미리 연결해놓는 작업을 진행한다. 
그렇게 되면 최초 요청 시에만 서버간 연결 자원이 소모되고, 그 다음 요청 부터는 이미 서버간의 연결이 되어있는 상태에서 요청을 처리하기 때문에,
불필요한 자원 소모를 줄일 수 있다.

**그렇다면 클라이언트의 요청을 통해 새로운 데이터베이스를 연결해야 하는 경우는 어떻게 해야 할까?**

java.sql.DriverManager 이용해 클라이언트 요청 시 요청 파라미터에 있는 데이터베이스 연결 정보를 가지고 커넥션 객체를 만들어 데이터베이스와 통신하자는 의견이 있었다.
하지만 위에서 말했다시피 WAS 서버와 데이터베이스 서버 간의 통신 중에서 가장 자원을 많이 소모하는 부분이 바로 연결 부분이다.
클라이언트 요청마다 새로운 객체를 만들고, 서버간 연결에 자원을 지속적으로 소모하는 것은 최선의 방법이 아니라는 결론을 내렸다.



## 목표






## Reference

http://andang72.blogspot.com/2019/06/blog-post.html

http://1004lucifer.blogspot.com/2015/08/intellijmaven-spring.html