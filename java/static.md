# Static

Java 에서 ```static``` 이란, 클래스 멤버(변수 또는 메서드)를 정의할 때 사용되는 키워드이다.
```static``` 으로 선언된 멤버는 클래스 자체에 속하며, 클래스의 모든 인스턴스가 공유한다. 이것은 객체 인스턴스에 속한 멤버와는 대조된다.

```static```멤버는 힙(heap) 메모리 영역이 아니라 메서드 영역(method area) 또는 클래스 영역(class area)에 저장된다.
이 영역은 Java 프로그램이 시작될 때 클래스들과 클래스의 멤버들을 저장하는 공간이다. 다른 용어로는 "퍼먼트 영역"이라고도 한다.

```static``` 멤버는 클래스의 인스턴스를 생성하지 않고도 접근할 수 있으며, 클래스의 로딩 시점에 초기화된다.
그래서 이러한 멤버들은 클래스 로딩 시점에 메모리에 상주하고, 프로그램 실행 도중에 메모리에서 제거되지 않는다.

## Static 의 주요 특징과 용도

### 1. static 변수 (정적 변수)

```static```으로 선언된 변수는 클래스 레벨의 변수이며, 클래스가 로딩될 때 한번 초기화되고, 프로그램 실행 중에 여러 객체 인스턴스 간에 데이터를 공유한다.
주로 상수나 공용 데이터를 저장하는데 사용된다.

```java
public class MyClass {
    public static int STATIC_VALUE = 1;
}
```

### 2. static 메서드 (정적 메서드)

```static```으로 선언된 메서드는 인스턴스 생성 없이도 클래스 이름을 통해 호출할 수 있다. 주로 유틸리티 메서드, 수학 연산, 팩토리 메서드 등을
정의하는데 사용된다.

```java
public class MathUtil {
    public static int add(int a, int b) {
        return a + b;
    }
}
```

### 3. static 블록 (정적 초기화 블록)

```static``` 블록은 클래스가 로딩될 때 실행되는 블록으로, 주로 초기화 코드나 클래스 수전의 작업을 수행하는 데 사용된다.

```java
public class MyClass {
    static {
        // 클래스 로딩 시 실행되는 코드
    }
}
```

### 4. static 클래스

```static``` 키워드를 클래스 정의 앞에 사용하면 해당 클래스를 정적 클래스로 만들 수 있다. 정적 클래스는 인스턴스 생성을 허용하지 않고,
주로 유틸리티 클래스로 사용된다.

```java
public static class UtilityClass {
    //정적 클래스 멤버들
}
```

static 멤버는 객체 인스턴스와 무관하게 클래스 자체에 속하므로 클래스 이름을 통해 접근된다. 이로 인해 공유 데이터와 유틸리티 메서드를 정의하고 객체 간에 데이터를 공유하는 데 유용하다.

## Static 의 장단점

### 1. 장점

#### 공유 리소스

```static``` 멤버 변수나 메서드는 클래스의 인스턴스가 아니라 클래스 자체에 속하므로, 클래스의 모든 인스턴스 간에 데이터 및 동작을 공유할 수 있다.
이를 통해 리소스를 공유하고 데이터 일관성을 유지할 수 있다.

#### 메모리 효율성

```static``` 멤버 변수는 한 번만 메모리에 할당되며, 클래스가 로드될 때 초기화된다.
따라서 여러 인스턴스를 생성해도 해당 변수의 복사본이 생성되지 않으므로 메모리 관리에 효율적일 수 있다.

#### 전역 엑세스

```static``` 메서드 및 변수는 클래스 이름을 통해 어디서든지 접근할 수 있으므로, 전역적인 동작을 수행하는 데 유용하다.

#### 유틸리티 클래스

```static``` 메서드를 사용하여 유틸리티 클래스를 만들 수 있다.
예를 들어, java.lang.Math 클래스는 static 메서드로 이루어져 있으며, 수학 연산을 수행하는 데 사용된다.


### 2. 단점

#### 테스트 어려움

```static``` 멤버는 상태를 공유하므로, 테스트하기 어려울 수 있다. 다른 부분에서 의도치 않은 영향을 미칠 수 있으므로, 테스트 작성이 어려울 수 있다.

#### 확장성

```static``` 멤버는 상속과 관련하여 제한이 있을 수 있다. 서브클래스에서 ```static``` 메서드를 재정의 할 수 없으며 ```static``` 변수는 상속 계층에 속하지 않는다.

#### 스레드 안정성

```static``` 변수를 여러 스레드에서 수정할 때 스레드 안정성 문제가 발생할 수 있다. 이를 방지하기 위해 동기화나 다른 스레드에 안전한 기술을 사용해야 한다.

#### 결합도 증가

```static``` 메서드를 다른 클래스에서 자주 호출하면 클래스 간의 결합도가 증가할 수 있으면, 코드 유지 및 변경이 어려워질 수 있다.
